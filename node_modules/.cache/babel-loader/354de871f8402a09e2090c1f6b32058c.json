{"ast":null,"code":"import { combineReducers } from 'redux';\nimport { CLICK_MARKER, UNCLICK_MARKER, EXPLORE_PANEL, CLICK_PANEL, SEARCH_PANEL, REQUEST_API_DATA, RECEIVE_API_DATA, REQUEST_API_DATA_SUCCESS } from './actions'; // UI Reducers\n\nfunction copyAndRemove(array, index) {\n  // Copies an array without the element at the index provided\n  return [...array.slice(0, index), ...array.slice(index + 1)];\n}\n\nfunction panel(state = EXPLORE_PANEL, action) {\n  switch (action.type) {\n    case CLICK_PANEL:\n      return action.panel;\n\n    default:\n      return state;\n  }\n}\n\nfunction clickedStations(state = [], action) {\n  switch (action.type) {\n    case CLICK_MARKER:\n      if (!action.isSelected) {\n        return [...state, action.id];\n      } else {\n        let markerIndex = state.indexOf(action.id);\n        return copyAndRemove(state, markerIndex);\n      }\n\n    default:\n      return state;\n  }\n}\n\nfunction estimatedDistances(state = [], action) {}\n\nconst apiDefaultState = {\n  isFetching: false,\n  bikeTimestamp: null,\n  stationsByID: {},\n  weather: {}\n};\n\nfunction api(state = apiDefaultState, action) {\n  switch (action.type) {\n    case REQUEST_API_DATA:\n      return Object.assign({}, state, {\n        isFetching: true\n      });\n\n    case RECEIVE_API_DATA:\n      return Object.assign({}, state, {\n        isFetching: false,\n        bikeTimestamp: action.bikeTimestamp,\n        stationsByID: action.stationsByID,\n        weather: action.weather\n      });\n\n    default:\n      return state;\n  }\n}\n\nconst distanceMatrixDefaultState = {\n  isFetching: false,\n  distanceArray: []\n};\n\nfunction distanceMatrix(state = distanceMatrixDefaultState, action) {\n  switch (action.type) {\n    case REQUEST_API_DATA_SUCCESS:\n      return null;\n\n    default:\n      return state;\n  }\n}\n\nconst reduceApp = combineReducers({\n  panel,\n  clickedStations,\n  api\n});\nexport default reduceApp;","map":{"version":3,"sources":["/Users/elliotgoldingfrank/bikephil-frontend/bikephilreact/src/reducers.js"],"names":["combineReducers","CLICK_MARKER","UNCLICK_MARKER","EXPLORE_PANEL","CLICK_PANEL","SEARCH_PANEL","REQUEST_API_DATA","RECEIVE_API_DATA","REQUEST_API_DATA_SUCCESS","copyAndRemove","array","index","slice","panel","state","action","type","clickedStations","isSelected","id","markerIndex","indexOf","estimatedDistances","apiDefaultState","isFetching","bikeTimestamp","stationsByID","weather","api","Object","assign","distanceMatrixDefaultState","distanceArray","distanceMatrix","reduceApp"],"mappings":"AAAA,SAASA,eAAT,QAAgC,OAAhC;AACA,SAASC,YAAT,EACGC,cADH,EAEGC,aAFH,EAGGC,WAHH,EAIGC,YAJH,EAKGC,gBALH,EAMGC,gBANH,EAOGC,wBAPH,QAOkC,WAPlC,C,CASA;;AAEA,SAASC,aAAT,CAAuBC,KAAvB,EAA8BC,KAA9B,EAAoC;AACnC;AACA,SAAO,CAAC,GAAGD,KAAK,CAACE,KAAN,CAAY,CAAZ,EAAcD,KAAd,CAAJ,EAA0B,GAAGD,KAAK,CAACE,KAAN,CAAYD,KAAK,GAAC,CAAlB,CAA7B,CAAP;AACA;;AAED,SAASE,KAAT,CAAeC,KAAK,GAACX,aAArB,EAAoCY,MAApC,EAA2C;AAC1C,UAAQA,MAAM,CAACC,IAAf;AACC,SAAKZ,WAAL;AACC,aAAOW,MAAM,CAACF,KAAd;;AACD;AACC,aAAOC,KAAP;AAJF;AAMA;;AAED,SAASG,eAAT,CAAyBH,KAAK,GAAC,EAA/B,EAAmCC,MAAnC,EAA0C;AACzC,UAAQA,MAAM,CAACC,IAAf;AACC,SAAKf,YAAL;AACC,UAAK,CAACc,MAAM,CAACG,UAAb,EAA0B;AACzB,eAAO,CAAC,GAAGJ,KAAJ,EAAWC,MAAM,CAACI,EAAlB,CAAP;AACA,OAFD,MAEO;AACN,YAAIC,WAAW,GAAGN,KAAK,CAACO,OAAN,CAAcN,MAAM,CAACI,EAArB,CAAlB;AACA,eAAOV,aAAa,CAACK,KAAD,EAAQM,WAAR,CAApB;AACA;;AACF;AACC,aAAON,KAAP;AATF;AAWA;;AAGD,SAASQ,kBAAT,CAA4BR,KAAK,GAAC,EAAlC,EAAsCC,MAAtC,EAA6C,CAC5C;;AAGD,MAAMQ,eAAe,GAAG;AACvBC,EAAAA,UAAU,EAAE,KADW;AAEvBC,EAAAA,aAAa,EAAE,IAFQ;AAGvBC,EAAAA,YAAY,EAAE,EAHS;AAIvBC,EAAAA,OAAO,EAAE;AAJc,CAAxB;;AAOA,SAASC,GAAT,CAAad,KAAK,GAACS,eAAnB,EAAoCR,MAApC,EAA2C;AAC1C,UAAQA,MAAM,CAACC,IAAf;AACC,SAAKV,gBAAL;AACC,aAAOuB,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBhB,KAAlB,EAAyB;AAC/BU,QAAAA,UAAU,EAAE;AADmB,OAAzB,CAAP;;AAGD,SAAKjB,gBAAL;AACC,aAAOsB,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBhB,KAAlB,EAAyB;AAC/BU,QAAAA,UAAU,EAAE,KADmB;AAE/BC,QAAAA,aAAa,EAAEV,MAAM,CAACU,aAFS;AAG/BC,QAAAA,YAAY,EAAEX,MAAM,CAACW,YAHU;AAI/BC,QAAAA,OAAO,EAAEZ,MAAM,CAACY;AAJe,OAAzB,CAAP;;AAMD;AACC,aAAOb,KAAP;AAbF;AAeA;;AAED,MAAMiB,0BAA0B,GAAG;AAClCP,EAAAA,UAAU,EAAE,KADsB;AAElCQ,EAAAA,aAAa,EAAE;AAFmB,CAAnC;;AAKA,SAASC,cAAT,CAAwBnB,KAAK,GAACiB,0BAA9B,EAA0DhB,MAA1D,EAAiE;AAChE,UAAQA,MAAM,CAACC,IAAf;AACC,SAAKR,wBAAL;AACC,aAAO,IAAP;;AACD;AACC,aAAOM,KAAP;AAJF;AAMA;;AAGD,MAAMoB,SAAS,GAAGlC,eAAe,CAAC;AAChCa,EAAAA,KADgC;AAEhCI,EAAAA,eAFgC;AAGhCW,EAAAA;AAHgC,CAAD,CAAjC;AAMA,eAAeM,SAAf","sourcesContent":["import { combineReducers } from 'redux'\nimport { CLICK_MARKER, \n\t\t UNCLICK_MARKER,\n\t\t EXPLORE_PANEL,\n\t\t CLICK_PANEL,\n\t\t SEARCH_PANEL,\n\t\t REQUEST_API_DATA,\n\t\t RECEIVE_API_DATA,\n\t\t REQUEST_API_DATA_SUCCESS} from './actions'\n\n// UI Reducers\n\nfunction copyAndRemove(array, index){\n\t// Copies an array without the element at the index provided\n\treturn [...array.slice(0,index), ...array.slice(index+1)]\n}\n\nfunction panel(state=EXPLORE_PANEL, action){\n\tswitch (action.type){\n\t\tcase CLICK_PANEL:\n\t\t\treturn action.panel\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n\nfunction clickedStations(state=[], action){\n\tswitch (action.type) {\n\t\tcase CLICK_MARKER:\n\t\t\tif ( !action.isSelected ) {\n\t\t\t\treturn [...state, action.id]\n\t\t\t} else {\n\t\t\t\tlet markerIndex = state.indexOf(action.id);\n\t\t\t\treturn copyAndRemove(state, markerIndex)\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n\n\nfunction estimatedDistances(state=[], action){\n}\n\n\nconst apiDefaultState = {\n\tisFetching: false,\n\tbikeTimestamp: null,\n\tstationsByID: {},\n\tweather: {}\n}\n\nfunction api(state=apiDefaultState, action){\n\tswitch (action.type){\n\t\tcase REQUEST_API_DATA:\n\t\t\treturn Object.assign({}, state, {\n\t\t\t\tisFetching: true\n\t\t\t})\n\t\tcase RECEIVE_API_DATA:\n\t\t\treturn Object.assign({}, state, {\n\t\t\t\tisFetching: false,\n\t\t\t\tbikeTimestamp: action.bikeTimestamp,\n\t\t\t\tstationsByID: action.stationsByID,\n\t\t\t\tweather: action.weather,\n\t\t\t})\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n\nconst distanceMatrixDefaultState = {\n\tisFetching: false,\n\tdistanceArray: []\n}\n\nfunction distanceMatrix(state=distanceMatrixDefaultState, action){\n\tswitch (action.type){\n\t\tcase REQUEST_API_DATA_SUCCESS:\n\t\t\treturn null\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n\n\nconst reduceApp = combineReducers({\n  panel,\n  clickedStations,\n  api\n})\n\nexport default reduceApp;\n\n\n"]},"metadata":{},"sourceType":"module"}